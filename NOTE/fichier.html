<!DOCTYPE html>
<html>
<head>
	<title>Les FICHIERS</title>
	<link rel="stylesheet" type="text/css" href="Sassembleur.css">
</head>
<body>
	<a href="python.html">HOME</a>
	<p>
		<h1>Les fichiers</h1>
		Un fichier est un répertoire permettant de sauvegarder des données et de les utilisés plus tard. Avant de voire ce que c'est en bonne et du forme, nous allons faire un detour et voir comment le créé et l'utiliser sur notre disque. C'est-à-dire les chemins d'accès.<br>
		<h3>Les chemins d'accès</h3>
		Pour accéder a un dossier sur notre ordinateur, nous avons deux sortes de chemin. <b>Le chemin relatif et le chemin absolu</b>. <dl>
			<dw>Chemin absolu</dw><dd>Il consiste a décrire la suite de toutes les répertoires menant au fichier. Exemple: <code>G:/Users/Sarah/Dektop/dosseir PYTHON/fichier.txt</code>.(.txt est juste une extentention par défaut.) Son utilisation est tès utile mais une connaissance parfaite de tous les dossiers est requise </dd> 
			<dw>Chemin relatif</dw><dd>Il consiste a lire un répertoire a partir du dossier courant. Le répertoire doit donc être soit dans les dossiers parents soit dans des sous dossiers par rapport au dossier courant. Si le fichier existe dans le dossier courant, on a simplement <code>fichier.txt</code> pour y accéder. Si il est dans un dossier parent, on a <code>../fichier.txt</code>. Si il est dans un sous dossier, on a <code>sous_dossier/fichier.txt</code>.</dd>
		</dl>
		<h3>Lecture et écriture dans un fichier</h3>
		Un fichier peut être créer diractement par un code python ou manuellement. Nous avons pour ceux, des modes d'ouverture possible pour une fichier.<br><code>"r"</code> qui est l'abréviation de <code>"read"</code> qui signifie (lecture), permet l'ouverture du fichier en mode lecture. Le fichier doit alors existé.<br><code>"w"</code>: abréviation de <code>"write"</code> (ecriture) permet l'ouverture du fichier en mode écriture. Ici, même si le fichier n'existais pas, python se charge de le créer. Mais la particularité de ce mode est que, même si le fichier existait, il ecrasera tout son contenu et on obtient un fichier totalement vide avant de commencer une quelconque manipulation.<br><code>"a"</code>. C'est un mode d'ouverture qui consiste a ajouter a la fin de chaque donnée, une nouvelle. Il peut être utilisé soit pour écrire soit pour lire un fichier. Ici aussi, si le fichier n'existait pas, python le cré avant.<br>Pour ouvrir un fichier, on utilise la fonction native <code>open</code> (ouvre en francais) qui prend en paramètre le nom du fichier a ouvrir sous forme d'une chaine de caractère et ensuite le mode de lecture aussi sous forme de chaine de caractère. Soit la synthase: <code>nom_fichier = open("fichier_a_ouvire.extension","mode_ouverture")</code>. Une fois ouverte, Si l'on veut lir tout le contenu, on à la fonction <code>read()</code> qui est une fontion de l'objet créé. Il est a noté que, la classe d'où vient ce objet est <code>TextIoWrapper</code>. La fonction <code>read()</code> ne prend rien en paramètre toute foi, il renvoie la totalité du contenu de notre fichier sous forme de chaine de caractère. La synthase est: <code>contenu = nom_fichier.read()</code> Pour lire le fichier line par line, on peut, au lieu d'utiliser directement <code>read()</code>, utiliser une autre fonction qui se définie exactement comme <code>read()</code> et qui se nomme <code>readline()</code>. C'est les mêmes synthases. Pour une écriture, on utilise evidemment la methode <code>write()</code> qui est aussi une fonction de l'objet et qui prend en paramètre uniquement que des chaines de caractères. Il renvoie comme valeur le nombre de caractères qui a été saisie. On a comme synthase: <code>nbre_caractère = nom_fichier.write(donnée_à_souvegarder)</code>. Comme dit plus tôt, la <code>donnée_à_sauvegarder</code> ne peut être qu'une chaine de caractère. <br><h4>Le mot clé <code>with</code></h4>C'est un puissant mot clé qui est utilisé pour beaucoup d'autres actions. Ici, son utilisation vas nous permettre d'ouvrir et de fermer notre fichier. Sa synthase de définition est <code><b>with</b> open("fichier_a_ouvrir.extention", "mode_ouverture") <b>as</b> nom_fichier:</code> Avec une tel définition de fichier, une foi qu'on sort de l'indentation, python se charge lui même de la fermeture du fichier.<br><h4>Enrégistrement d'objet</h4>On viens de voir présédement qu'il est impossible d'enrégistrer autre donnée dans un fichier si cela n'est donc pas une chaine de caractère. Cependant, un module python permet exactement cette action. C'est le fameus <code>pickle</code>. Il permet de convertire notre objet en code binaire et le stock dans notre fichier. Ainsi, a la récupération, nous obtenons le code binaire de notre objet et python se charge, par une fonction qu'on verra bientôt a le traduire et puiff, on obtient notre objet initial. Pour ceux, voici la synthase d'ecriture: (on considère que <code>pickle</code> a été importé. Sinon, faite le soit <code>import pickle</code>); <code> <b>with</b> open ('fichier_a_ouvire','wb') <b>as</b> nom_fichier:<br>enregistrement = pickle.Pickler(nom_fichier)<br>enregistrement.dump(objet)</code>. Et la synthase de récupération est <code> <b>with</b> open ('fichier_a_ouvire','rb') <b>as</b> nom_fichier:<br>recupration = pickle.Unpickler(nom_fichier)<br>contenue = recuperation.load()</code>. C'est la variable <code>contenue</code> qui contient notre objet. On peut l'utiliser dans ou en dehors de <code>with</code>. On peut enrégistrer plusieur donné dans un seul fichier en répétant plusieur fois les mêmes codes. Mais pour des raisons de visibiliter et d'efficasiter, il est préférable de faire <b>un objet, un fichier</b>.
		<h2>En résumé</h2>On a vu qu'un fichier permet de sauvegarder une donné et de le racuperer plus tard. Son utilisation est très utilise car on sais que, une fois qu'on sort du programme, nos données se perdent automatiquement. Pour ouvrir une fichier, on peut utiliser directement la fonction native <code>open()</code> qui prend en paramètre le fichier à ouvrir et ensuite le mode d'ouverture; et on doit utiliser la méthode <code>close</code> qui est une fonction de l'objet pour fermet le fichier une fois créée. Mais il est préférable de l'ouvrire simplement avec le mot clé <code>with</code> qui ferme automatiquement le fichier si l'on sort de l'indentation. De sa nature, un fichier prend en compte uniquement que les chaine de caractères. Mais on peut enrégistrer d'autre objet en utilisant le module python <code>pickle</code>.
	</p>
	<a href="python.html" target="blanck">HOME</a><br>
	<a href="variable.html">SUIVANT: Référence et porté d'une variable</a>
</body>
</html>